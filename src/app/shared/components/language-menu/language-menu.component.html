<button
  mat-icon-button
  aria-label="Icon for change language"
  [cdkMenuTriggerFor]="languageMenu"
  [matTooltip]="'langSelect.label' | translate"
  class="font-semibold text-slate-700 dark:text-slate-200"
  (cdkMenuOpened)="languageMenuOpened = true"
>
  <span
    class="leading-5 font-semibold rounded flex items-center space-x-2 dark-highlight custom-span-button transition-all ease-in-out duration-300 hover:text-sky-500 dark:hover:text-sky-400"
  >
    {{ (selectedLanguageName$ | async) | titlecase }}
    <i
      class="las la-xs ml-1"
      [ngClass]="languageMenuOpened ? 'la-angle-down' : 'la-angle-right'"
    ></i>
  </span>
</button>

<ng-template #languageMenu>
  <div
    class="overlay-menu-wrap dark-highlight"
    cdkMenu
    (closed)="languageMenuOpened = !languageMenuOpened"
  >
  <ng-container *ngFor="let lang of languages">
    <button
      cdkMenuItem
      (click)="changeLanguage(lang.locale)"
      class="w-full flex items-center p-2 hover:bg-slate-100 dark:hover:bg-slate-700 fade-in"
    >
      <img class="w-5 h-5 mr-2 object-cover" [src]="'assets/images/'+lang.flag" />
      {{ lang.name | titlecase }}
    </button>
  </ng-container>
  </div>
</ng-template>
